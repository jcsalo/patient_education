<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Esophagectomy – Patient Education</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-1a50d64395dd4758108c602bb54a5bf8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Patient Education</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./scripts.html"> 
<span class="menu-text">Scripts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./slides.html"> 
<span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./patient_education_plan.html"> 
<span class="menu-text">Plan</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.youtube.com/channel/UC5Deez8jUMnLhcf72-cHA7Q"> 
<span class="menu-text">YouTube</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="eso_surgery.docx"><i class="bi bi-file-word"></i>MS Word</a></li><li><a href="eso_surgery.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Esophagectomy</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction.-l-1" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction.-l-1"><span class="header-section-number">1</span> Introduction. <strong>L</strong> <strong>1</strong></h2>
<p>I’m Dr Jonathan Salo, a GI Cancer Surgeon in Charlotte, North Carolina. These videos are designed to educate you about cancer and its treatment and help you and you cancer care team make the right decisions for you.</p>
<p>Of course, there is no substitute for the expert opinions of your cancer care team.</p>
</section>
<section id="surgery-of-the-esophagus" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="surgery-of-the-esophagus"><span class="header-section-number">2</span> Surgery of the Esophagus</h2>
<p>In this video, you will learn about (2)</p>
<ul>
<li>Different kinds of surgery for esophageal cancer</li>
<li>Risks of surgery</li>
<li>How you can reduce the risk of surgery (1)</li>
</ul>
</section>
<section id="esophagectomy" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="esophagectomy"><span class="header-section-number">3</span> Esophagectomy</h2>
<p>Surgical removal of the esophagus is referred to as esophagectomy. (3).</p>
</section>
<section id="esophagectomy--" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="esophagectomy--"><span class="header-section-number">4</span> Esophagectomy -</h2>
<p>Another terms is esophagogastrectomy (4)</p>
</section>
<section id="esophagectomy-1" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="esophagectomy-1"><span class="header-section-number">5</span> Esophagectomy</h2>
<p>Esophagectomy is generally performed for three different situations:</p>
<ul>
<li>Superficial Tumors (T1) that can’t be completely removed by endoscopy (5)</li>
</ul>
<p>Superficial tumors as T1. If this terminology is not familiar to you, this may be a good time to view our video about Esophageal Cancer Staging and Treatment</p>
<p>We also have a separate video about superficial tumors and how they can be removed through endoscopic therapy without the need for surgery.</p>
</section>
<section id="esophagectomy." class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="esophagectomy."><span class="header-section-number">6</span> Esophagectomy.</h2>
<p>Esophagectomy is also performed for</p>
<ul>
<li>Localized Tumors that are T1b or T2 (6)</li>
</ul>
</section>
<section id="esophagectomy-2" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="esophagectomy-2"><span class="header-section-number">7</span> Esophagectomy</h2>
<ul>
<li>Locally Advanced Tumors, which are T3 or Node-positive (6)</li>
</ul>
</section>
<section id="esophagectomy-3" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="esophagectomy-3"><span class="header-section-number">8</span> Esophagectomy</h2>
<p>The most common case in which esophagectomy is performed is for locally advanced tumors</p>
<p>We also have a video on locally-advanced cancers which you may find helpful. (7)</p>
</section>
<section id="esophagectomy-4" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="esophagectomy-4"><span class="header-section-number">9</span> Esophagectomy</h2>
<p>In these cases, surgery is performed</p>
<ul>
<li><em>after</em> the completion of preoperative therapy. Preoperative therapy is generally some combination of chemotherapy and radiation. (8)</li>
</ul>
</section>
<section id="goals-of-esophagectomy" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="goals-of-esophagectomy"><span class="header-section-number">10</span> Goals of Esophagectomy</h2>
<p>The goals of esophagectomy are to remove the tumor (9)</p>
</section>
<section id="goals-of-esophagectomy-1" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="goals-of-esophagectomy-1"><span class="header-section-number">11</span> Goals of Esophagectomy</h2>
<p>And nearby lymph nodes (10)</p>
</section>
<section id="goals-of-esophagectomy-2" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="goals-of-esophagectomy-2"><span class="header-section-number">12</span> Goals of Esophagectomy</h2>
<p>A portion of the esophagus and stomach is also removed with the tumor to reduce the risk of recurrence (12)</p>
</section>
<section id="reconstruction" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="reconstruction"><span class="header-section-number">13</span> Reconstruction</h2>
<p>In moset cases,</p>
<p>The remaining stomach is fashioned into a tube to create a new esophagus (13)</p>
</section>
<section id="reconstruction-1" class="level2" data-number="14">
<h2 data-number="14" class="anchored" data-anchor-id="reconstruction-1"><span class="header-section-number">14</span> Reconstruction</h2>
<p>The esophagus and stomach are now joined together</p>
<p>The new connection between esophagus and stomach is called the anastomosis (14)</p>
</section>
<section id="types-of-esophagectomy.-4" class="level2" data-number="15">
<h2 data-number="15" class="anchored" data-anchor-id="types-of-esophagectomy.-4"><span class="header-section-number">15</span> Types of Esophagectomy. <strong>4</strong></h2>
<p>There are two major types of esophagectomy:</p>
<p>Partial esophagectomy which removed the lower 2/3 of the esophagus</p>
<p>Total esophagectomy removes all of the esophagus (15)</p>
</section>
<section id="partial-esophagectomy-2" class="level2" data-number="16">
<h2 data-number="16" class="anchored" data-anchor-id="partial-esophagectomy-2"><span class="header-section-number">16</span> Partial Esophagectomy <strong>2</strong></h2>
<p>Removes lower 2/3 of esophagus</p>
<p>New connection (or anastomosis) made in the chest (16)</p>
</section>
<section id="ivor-lewis-esophagectomy" class="level2" data-number="17">
<h2 data-number="17" class="anchored" data-anchor-id="ivor-lewis-esophagectomy"><span class="header-section-number">17</span> Ivor Lewis Esophagectomy</h2>
<p>This operation is also referred to as an Ivor Lewis esophagectomy</p>
<p>In honor of the Welsh surgeon who developed the operation (17)</p>
</section>
<section id="total-esophagectomy" class="level2" data-number="18">
<h2 data-number="18" class="anchored" data-anchor-id="total-esophagectomy"><span class="header-section-number">18</span> Total Esophagectomy</h2>
<p>Removes all of esophagus</p>
<p>New connection (or anastomosis) made in the neck (18)</p>
</section>
<section id="total-esophagectomy-1" class="level2" data-number="19">
<h2 data-number="19" class="anchored" data-anchor-id="total-esophagectomy-1"><span class="header-section-number">19</span> Total Esophagectomy</h2>
<p>Two different approaches:</p>
<p>Transhiatal approach or</p>
<p>McKeown approach in honor of the Irish surgeon who developed the operation. This is also known as the three-incision esophagectomy (19)</p>
</section>
<section id="which-esophagectomy-4" class="level2" data-number="20">
<h2 data-number="20" class="anchored" data-anchor-id="which-esophagectomy-4"><span class="header-section-number">20</span> Which Esophagectomy? <strong>4</strong></h2>
<p>With three different options for surgery, how will you and your surgical team decide which operaiton is best for you?</p>
<p>One factor is the location of the tumor (20)</p>
</section>
<section id="distal---partial-2" class="level2" data-number="21">
<h2 data-number="21" class="anchored" data-anchor-id="distal---partial-2"><span class="header-section-number">21</span> Distal - Partial <strong>2</strong></h2>
<p>For tumors located in the lower, or distal part of the esophagus, a Partial esophagectomy will remove all of the cancer with an adequate margin to ensure that the cancer is completely removed (21)</p>
</section>
<section id="distal---partial" class="level2" data-number="22">
<h2 data-number="22" class="anchored" data-anchor-id="distal---partial"><span class="header-section-number">22</span> Distal - Partial</h2>
<p>So for distal cancers, an Ivor Lewis Approach is an ideal operation (22)</p>
</section>
<section id="upper-proximal" class="level2" data-number="23">
<h2 data-number="23" class="anchored" data-anchor-id="upper-proximal"><span class="header-section-number">23</span> Upper = Proximal</h2>
<p>For tumors located in the upper or proximal part of the esophagus, a total esophagectomy is required to remove all of the cancer.</p>
</section>
<section id="which-esophagectomy---suirgeon-4" class="level2" data-number="24">
<h2 data-number="24" class="anchored" data-anchor-id="which-esophagectomy---suirgeon-4"><span class="header-section-number">24</span> Which Esophagectomy - Suirgeon <strong>4</strong></h2>
<p>Another important factor is surgeon preference and experience.</p>
<p>You will have an opportunity to discuss the surgical approach with your surgeon and hear their recommendations for surgical approach</p>
</section>
<section id="surgical-techniques-2" class="level2" data-number="25">
<h2 data-number="25" class="anchored" data-anchor-id="surgical-techniques-2"><span class="header-section-number">25</span> Surgical Techniques <strong>2</strong></h2>
<p>Another aspect of surgery are the techniques used.</p>
<p>An esophagectomy can be performed with open techniques</p>
<p>or minimally-invasive techniques (25)</p>
</section>
<section id="open-surgery" class="level2" data-number="26">
<h2 data-number="26" class="anchored" data-anchor-id="open-surgery"><span class="header-section-number">26</span> Open Surgery</h2>
<p>An open esophagectomy uses a laparotomy incision to access the abdomen, and a thoracotomy to access the chest (26)</p>
</section>
<section id="minimally-invasive" class="level2" data-number="27">
<h2 data-number="27" class="anchored" data-anchor-id="minimally-invasive"><span class="header-section-number">27</span> Minimally InVasive</h2>
<p>Minimally-invasive techniques uses small incisions and specialized instruments.</p>
<p>These techniques can reduce discomfor and length of hospital stay. (27)</p>
</section>
<section id="laparoscoic-techniques" class="level2" data-number="28">
<h2 data-number="28" class="anchored" data-anchor-id="laparoscoic-techniques"><span class="header-section-number">28</span> Laparoscoic techniques</h2>
<p>Laparoscopic techniques use special instruments to work through small incisions. These are directly controlled by the surgeon. (28)</p>
</section>
<section id="robotic-techniques" class="level2" data-number="29">
<h2 data-number="29" class="anchored" data-anchor-id="robotic-techniques"><span class="header-section-number">29</span> Robotic techniques</h2>
<p>In some cases, robotic techniques can be used. The surgeon controls the robotic instruments (29)</p>
</section>
<section id="robotic-techniques-1" class="level2" data-number="30">
<h2 data-number="30" class="anchored" data-anchor-id="robotic-techniques-1"><span class="header-section-number">30</span> Robotic techniques</h2>
<p>This can allow for more precision as the surgeon directs the robot (30)</p>
</section>
<section id="risks-of-surgery-4" class="level2" data-number="31">
<h2 data-number="31" class="anchored" data-anchor-id="risks-of-surgery-4"><span class="header-section-number">31</span> Risks of Surgery <strong>4</strong></h2>
<p>There are three major risks of surgery you will want to discuss with your surgeon</p>
<ul>
<li>Leakage from the anastomosis</li>
<li>Pneumonia</li>
<li>Injury to nerve to the larynx (31)</li>
</ul>
</section>
<section id="leak-from-anastomosis" class="level2" data-number="32">
<h2 data-number="32" class="anchored" data-anchor-id="leak-from-anastomosis"><span class="header-section-number">32</span> Leak from Anastomosis</h2>
<p>The anastomosis is the new connection made between the esophagus and the stomach.</p>
<p>If the anastomosis does not heal properly. (32)</p>
</section>
<section id="leak-from-anastomosis-1" class="level2" data-number="33">
<h2 data-number="33" class="anchored" data-anchor-id="leak-from-anastomosis-1"><span class="header-section-number">33</span> Leak from Anastomosis</h2>
<p>Fluid from inside the esophagus leaks into the chest cavity. (33)</p>
</section>
<section id="leak-from-anastomosis-2" class="level2" data-number="34">
<h2 data-number="34" class="anchored" data-anchor-id="leak-from-anastomosis-2"><span class="header-section-number">34</span> Leak from Anastomosis</h2>
<p>This can lead to infection (34)</p>
</section>
<section id="leak-from-anastomosis-3" class="level2" data-number="35">
<h2 data-number="35" class="anchored" data-anchor-id="leak-from-anastomosis-3"><span class="header-section-number">35</span> Leak from Anastomosis</h2>
<p>and a prolonged hospital stay (35)</p>
</section>
<section id="treatment-of-leak" class="level2" data-number="36">
<h2 data-number="36" class="anchored" data-anchor-id="treatment-of-leak"><span class="header-section-number">36</span> Treatment of Leak</h2>
<p>In some cases, small leaks will heal as long as there is adequate nutrition (36)</p>
</section>
<section id="stent" class="level2" data-number="37">
<h2 data-number="37" class="anchored" data-anchor-id="stent"><span class="header-section-number">37</span> Stent</h2>
<p>IN some cases a stent is placed inside the esophagus to patch the leak from the insisde</p>
</section>
<section id="esophageal-stent" class="level2" data-number="38">
<h2 data-number="38" class="anchored" data-anchor-id="esophageal-stent"><span class="header-section-number">38</span> Esophageal Stent</h2>
<p>The stent is a wire mesh tube covered in plastic, which is placed inside the esophagus by endoscopy. (38)</p>
</section>
<section id="esophageal-stent-1" class="level2" data-number="39">
<h2 data-number="39" class="anchored" data-anchor-id="esophageal-stent-1"><span class="header-section-number">39</span> Esophageal Stent</h2>
<p>Once healing has occured, the stent is removed, typically about 6 weeks later (39)</p>
</section>
<section id="leak---surgery" class="level2" data-number="40">
<h2 data-number="40" class="anchored" data-anchor-id="leak---surgery"><span class="header-section-number">40</span> Leak -&gt; Surgery</h2>
<p>Less commonly, a leak may require reoperation (40)</p>
</section>
<section id="risk-factors-for-leak.-4" class="level2" data-number="41">
<h2 data-number="41" class="anchored" data-anchor-id="risk-factors-for-leak.-4"><span class="header-section-number">41</span> Risk factors for leak. <strong>4</strong></h2>
<p>The location of the anastomosis affects the risk of anastomotic leak</p>
</section>
<section id="total-higher-risk-2" class="level2" data-number="42">
<h2 data-number="42" class="anchored" data-anchor-id="total-higher-risk-2"><span class="header-section-number">42</span> Total higher risk **2*</h2>
<p>In cases of a total esophagetomy, the risk of leak is higher, because the stomach needs to reach higher to make a connection in the neck.</p>
<p>In cases of a parital esophagectomy, the risk of leak is lower.</p>
</section>
<section id="risk-factors-for-leak-4" class="level2" data-number="43">
<h2 data-number="43" class="anchored" data-anchor-id="risk-factors-for-leak-4"><span class="header-section-number">43</span> Risk factors for leak <strong>4</strong></h2>
<p>Once the connection is made between the esophagus and the stomach, we depend upon the body’s ability to heal and strengthen the connection. So the overall health of the patient is important.</p>
<p>Patients who have had poor nutrition are at higher risk of anastomotic leak. (43)</p>
</section>
<section id="risk-factors-for-leak" class="level2" data-number="44">
<h2 data-number="44" class="anchored" data-anchor-id="risk-factors-for-leak"><span class="header-section-number">44</span> Risk factors for leak</h2>
<p>And finally, the experience of the surgical team affects the risk of leak. Hospitals and surgeons who have more experience with esophageal surgery tend to have lower risk of anastomotic leak. (44)</p>
</section>
<section id="pneumonia-2" class="level2" data-number="45">
<h2 data-number="45" class="anchored" data-anchor-id="pneumonia-2"><span class="header-section-number">45</span> Pneumonia <strong>2</strong></h2>
<p>Pneumonia</p>
</section>
<section id="nutritional-consequences-of-surgery" class="level2" data-number="46">
<h2 data-number="46" class="anchored" data-anchor-id="nutritional-consequences-of-surgery"><span class="header-section-number">46</span> Nutritional consequences of surgery</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<ul>
<li>Remove tumor from esophagus</li>
<li>Remove surrounding lymph nodes</li>
<li>Create a new esophagus, usually from the stomach</li>
</ul>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_Resection1_ai.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="ivor-lewis" class="level2" data-number="47">
<h2 data-number="47" class="anchored" data-anchor-id="ivor-lewis"><span class="header-section-number">47</span> Ivor Lewis</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>The <em>Ivor Lewis</em> esophagectomy, shown here, removes the lower 2/3 of the esophagus, the tumor, and the surrounding lymph nodes.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_Resection2_ai.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="reconstruction-2" class="level2" data-number="48">
<h2 data-number="48" class="anchored" data-anchor-id="reconstruction-2"><span class="header-section-number">48</span> Reconstruction</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>A new esophagus is created from the stomach in the abdomen by fashioning it into a tube.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_Resection3_ai.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="ivor-lewis-esophagectomy-1" class="level2" data-number="49">
<h2 data-number="49" class="anchored" data-anchor-id="ivor-lewis-esophagectomy-1"><span class="header-section-number">49</span> Ivor Lewis esophagectomy</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>The new esophagus is now brought up into the chest. A new connection is made between the esophagus and the stomach, called an <em>anastomosis</em>.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_IvorLewis_Anastomosis.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="open-esophagectomy" class="level2" data-number="50">
<h2 data-number="50" class="anchored" data-anchor-id="open-esophagectomy"><span class="header-section-number">50</span> Open Esophagectomy</h2>
<div class="columns">
<div class="column fragment" style="width:65%;">
<p>Open esophagectomy uses conventional incisions in the abdomen and the right chest. An incision is made between the ribs on the right side, and an abdominal incision made from the breast bone to below the belly button. This is a well-established surgical approach which has been used for the past 75 years.</p>
</div><div class="column fragment" style="width:35%;">
<p><img src="images/eso_IvorLewis_ai.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="minimally-invasive-ivor-lewis" class="level2" data-number="51">
<h2 data-number="51" class="anchored" data-anchor-id="minimally-invasive-ivor-lewis"><span class="header-section-number">51</span> Minimally-invasive Ivor Lewis</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>Mininally-invasive esophagectomy uses small incisions in the abdomen and chest. A surgical telescope and special instruments are used to perform the operations. This operation is a more recent innovation and can be used in many cases instead of an open approach.</p>
<p>The smaller incisions mean faster recovery and less discomfort</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/MIE_IvorLewisArtboard.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="minimally-invasive-ivor-lewis-1" class="level2" data-number="52">
<h2 data-number="52" class="anchored" data-anchor-id="minimally-invasive-ivor-lewis-1"><span class="header-section-number">52</span> Minimally-invasive Ivor Lewis</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>We have found this is the best option for most of our patients. In some cases, an open approach is still necessary.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/MIE_IvorLewisArtboard_2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="total-esophagectomy-2" class="level2" data-number="53">
<h2 data-number="53" class="anchored" data-anchor-id="total-esophagectomy-2"><span class="header-section-number">53</span> Total Esophagectomy</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>For patients with tumors in the upper esophagus, we need to remove more of the esophagus</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_ProxTumorArtboard_2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="total-esophagectomy-3" class="level2" data-number="54">
<h2 data-number="54" class="anchored" data-anchor-id="total-esophagectomy-3"><span class="header-section-number">54</span> Total Esophagectomy</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>For those patients, we need to remove the whole esophagus</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_ResectionTotalArtboard_2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="minimally-invasive-mckeown-esophagectomy" class="level2" data-number="55">
<h2 data-number="55" class="anchored" data-anchor-id="minimally-invasive-mckeown-esophagectomy"><span class="header-section-number">55</span> Minimally-invasive McKeown Esophagectomy</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>In this case, a connection between the esophagus and the stomach is made in the neck.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_MIE_McKeownArtboard_2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="transhiatal-esophagectomy" class="level2" data-number="56">
<h2 data-number="56" class="anchored" data-anchor-id="transhiatal-esophagectomy"><span class="header-section-number">56</span> Transhiatal Esophagectomy</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>Another option is a transhiatal esophagectomy, which avoids the need to make incisions in the right chest. The operation is performed from the abdomen and the right neck.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_MIE_THEArtboard_2.png" class="img-fluid"></p>
</div>
</div>
<p>When you meet with your surgeon, you will have an opportunity to discuss your particular situation and their recommendation for surgery. Your surgeon will recommend a surgical approach based upon you and your tumor and their personal experience.</p>
</section>
<section id="risks-of-surgery" class="level2" data-number="57">
<h2 data-number="57" class="anchored" data-anchor-id="risks-of-surgery"><span class="header-section-number">57</span> Risks of Surgery</h2>
<p>An esophagectomy is a substantial operation, and in some cases there can be postoperative complications. We’re going to talk about two of these complications and what you can do to reduce your risk of complications:</p>
<ul>
<li>Anastomotic leak</li>
<li>Pneumonia</li>
</ul>
</section>
<section id="anastomotic-leak" class="level2" data-number="58">
<h2 data-number="58" class="anchored" data-anchor-id="anastomotic-leak"><span class="header-section-number">58</span> Anastomotic Leak</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>The anastomosis is surigcal connection between the esophagus and the stomach.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_IL_AnastArtboard 2@4x.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="anastomotic-leak-1" class="level2" data-number="59">
<h2 data-number="59" class="anchored" data-anchor-id="anastomotic-leak-1"><span class="header-section-number">59</span> Anastomotic Leak</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>If anastomosis does not heal properly, this can cause a leakage of fluid from the esophagus, called an anastomotic leak. If this happens, an infection can occur in the mediastinum, which is the space near the heart between the lungs.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_LeakArtboard 2@4x.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="anastomotic-leak-2" class="level2" data-number="60">
<h2 data-number="60" class="anchored" data-anchor-id="anastomotic-leak-2"><span class="header-section-number">60</span> Anastomotic Leak</h2>
<p>In some cases, the leak will heal on its own, but other cases may require additional procedures or even surgery. The risk of leak depends upon the operation performed but also depends upon the experience of the surgeon. At the end of this video we have a link to a video about how to choose a hospital and a surgeon, which talks further about the risks of a leak.</p>
</section>
<section id="pneumonia" class="level2" data-number="61">
<h2 data-number="61" class="anchored" data-anchor-id="pneumonia"><span class="header-section-number">61</span> Pneumonia</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>Pneumonia is another complication which can occurs in about 10-15% of patients after esophagectomy. Pneumonia requires treatment with antibiotics and frequently requires a longer hospitalization.</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/Eso_LungsArtboard 2@4x.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="preventing-pneumonia" class="level2" data-number="62">
<h2 data-number="62" class="anchored" data-anchor-id="preventing-pneumonia"><span class="header-section-number">62</span> Preventing Pneumonia</h2>
<p>In normal circumstances, secretions from the mouth and throat aren’t able to enter the lungs because we clear our throat and if secretions do get into our airway, we tend to cough and keep those secretions out of our lungs. This happens constantly without our thinking about it.</p>
<p>After esophagectomy, however, there is a tendency for secretions to enter the airway, and if you can’t clear them, there is a risk that pneumonia will set in.</p>
<p>There are two important ways that pneumonia can be prevented:</p>
<ul>
<li>Deep breathing</li>
<li>Walking</li>
</ul>
</section>
<section id="deep-breathing-and-coughing" class="level2" data-number="63">
<h2 data-number="63" class="anchored" data-anchor-id="deep-breathing-and-coughing"><span class="header-section-number">63</span> Deep breathing and coughing</h2>
<p>After surgery, it’s important to breathe deeply to help your lungs recover after surgery. Deep breathing make the cough more effective and helps clear secretions. After surgery, deep breathing and coughing can be uncomfortable, so controlling your discomfort will be an important part of your recovery.</p>
</section>
<section id="walking" class="level2" data-number="64">
<h2 data-number="64" class="anchored" data-anchor-id="walking"><span class="header-section-number">64</span> Walking</h2>
<p>Walking after surgery is also an important way to help your lungs recover as well. When we walk, it’s easier for our lungs to function, and again, it makes the cough more frequently.</p>
</section>
<section id="preventing-pneumonia-1" class="level2" data-number="65">
<h2 data-number="65" class="anchored" data-anchor-id="preventing-pneumonia-1"><span class="header-section-number">65</span> Preventing Pneumonia</h2>
<p>How can we prevent pneumonia? Believe it or not, I can tell who is more likely to develop pneumonia after surgery when I first meet them and shake their hand. Someone with a firm handshake has a lower risk of pneumonia. We think this is because someone with a firm handshake has good muscle tone, and someone with good muscle tone probably has good function of the muscles between the ribs so that they have a nice strong cough and can prevent pneumonia.</p>
</section>
<section id="strength" class="level2" data-number="66">
<h2 data-number="66" class="anchored" data-anchor-id="strength"><span class="header-section-number">66</span> Strength</h2>
<p>In our clinic, we actually measure out patient’s strength with a hand-held strength gauge called a dynamometer. Based upon these measurements, we can identify patients who may be at risk of pneumonia.</p>
</section>
<section id="patient-strength-and-esophagectomy-outcomes" class="level2" data-number="67">
<h2 data-number="67" class="anchored" data-anchor-id="patient-strength-and-esophagectomy-outcomes"><span class="header-section-number">67</span> Patient Strength and Esophagectomy Outcomes</h2>
<p>About half of our patients have good strength, shown in green. A quarter are have low strength, shown in red Another quarter are in the middle, shown in yellow</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Ignoring unknown labels:
• face : "bold"
• size : "14"</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eso_surgery_files/figure-html/pie-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="pneumonia-1" class="level2" data-number="68">
<h2 data-number="68" class="anchored" data-anchor-id="pneumonia-1"><span class="header-section-number">68</span> Pneumonia</h2>
<p>Overall, the risk of pneumonia is about 10% in our patients who undergo esophagectomy. 90% of patients never experience pneumonia, but 10% will have pneumonia after surgery.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eso_surgery_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eso_surgery_files/figure-html/pneumonia_figoverall-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>However the risk of pneumonia is not the same for everyone. Even though the average risk is 10%, the risk is much higher for our patients with low muscle strength and much lower for patients with good muscle strength.</p>
<p>For the half of our patients with good muscle strength, the risk of pneumonia is about 5%. On the other hand, the risk of pneumonia is 20% in the quarter of our patients who have low muscle strength.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eso_surgery_files/figure-html/pneumonia_fig2b-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="muscle-strength-and-risk-after-esophagectomy" class="level2" data-number="69">
<h2 data-number="69" class="anchored" data-anchor-id="muscle-strength-and-risk-after-esophagectomy"><span class="header-section-number">69</span> Muscle Strength and Risk after Esophagectomy</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>The results of our research suggest a simple answer: The risk of pneumonia is related to a patient’s muscle strength.]</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/emancipation-156066_1280.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="section" class="level2" data-number="70">
<h2 data-number="70" class="anchored" data-anchor-id="section"><span class="header-section-number">70</span> </h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p>Now this doesn’t mean that you need to look like this to prevent pneumonia after your esophagectomy]</p>
</div><div class="column fragment" style="width:50%;">
<p><img src="images/man-461195_1920.jpg" class="img-fluid"></p>
</div>
</div>
<p>The good news is that you can increase your muscle strength before surgery in two very simple ways:</p>
<ul>
<li><p>Good nutrition with adequate intake of protein</p></li>
<li><p>Exercise</p></li>
</ul>
</section>
<section id="good-news" class="level2" data-number="71">
<h2 data-number="71" class="anchored" data-anchor-id="good-news"><span class="header-section-number">71</span> Good News</h2>
<p>with proper nutrition and exercise, you can increase your muscle strength, and we have good reason to believe this will reduce your risk of complications after esophagectomy.</p>
<p>When you meet with your surgery team, be sure to ask them about pain control after surgery and how you can increase your muscle strength.</p>
<p>In the next video in our series, you will learn about how to choose a hospital and a surgeon for esophageal surgery:</p>
<p><a href="32-Surgeon.html">Choosing a Hospital and Surgeon for Esophagectomy</a></p>
<p>We hope you have found this video helpful. This videos and others like it are designed to</p>
<p>educate patients and families about esophageal cancer</p>
<p>and equip them for their discussions with their esophageal cancer care team.</p>
<p>As always, these videos are no substitute for expert medical advice.</p>
<p>Feel free to leave a comment or a question, or if you have suggestions for future videos.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jcsalo\.github\.io\/patient_education\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>